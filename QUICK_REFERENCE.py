#!/usr/bin/env python3
"""
Быстрая справка: автоматическое переименование файлов слайдов
Этот скрипт показывает, как система обрабатывает разные имена файлов
"""

def show_quick_guide():
    """Показывает быструю справку"""
    
    guide = """
╔════════════════════════════════════════════════════════════════════════╗
║           📖 БЫСТРАЯ СПРАВКА: ПЕРЕИМЕНОВАНИЕ ФАЙЛОВ СЛАЙДОВ          ║
╚════════════════════════════════════════════════════════════════════════╝

🎯 ОСНОВНОЕ:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
• Система АВТОМАТИЧЕСКИ переименовывает файлы при загрузке
• Вам не нужно вручную переименовывать в slide1.jpg, slide2.jpg!
• Просто загрузите файлы со слайдами и система всё сделает сама


✅ ЧТО ПРИНИМАЕТСЯ:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Система найдет эти файлы:

    slide1.jpg          ← базовый формат
    Slide1.jpeg         ← заглавная буква
    SLIDE1.JPG          ← все заглавные
    slide_1.jpg         ← с подчеркиванием
    slide-1.jpg         ← с дефисом
    slide 1.jpg         ← с пробелом


❌ ЧТО НЕ ПРИНИМАЕТСЯ:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Система НЕ найдет эти файлы:

    photo1.jpg          ← не начинается с "slide"
    image1.jpg          ← не начинается с "slide"
    slide1.png          ← неправильное расширение
    slide1.txt          ← текстовый файл


🔄 ПРИМЕРЫ ПЕРЕИМЕНОВАНИЯ:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

СЦЕНАРИЙ 1: Смешанные имена
──────────────────────────────
Входные файлы:          Что произойдет:         На сервере:
Slide1.JPEG     →  Найди, отсортируй  →  slide1.jpg
slide2.jpg      →  и переименуй        →  slide2.jpg
SLIDE3.jpeg     →  автоматически       →  slide3.jpg


СЦЕНАРИЙ 2: Неправильный порядок
──────────────────────────────────
Входные файлы:          Что произойдет:         На сервере:
slide3.jpg      →  Отсортирую по  →  slide1.jpg (был #3)
slide1.jpg      →  номерам и      →  slide2.jpg (был #2)
slide2.jpg      →  переименую     →  slide3.jpg (был #1)


СЦЕНАРИЙ 3: Смешанные с отклоненными
──────────────────────────────────────
Входные файлы:          Что произойдет:         На сервере:
photo1.jpg      ← отклонен (не "slide")
Slide2.jpg      → Выбран, переименован  →  slide1.jpg
image3.jpg      ← отклонен (не "slide")
slide4.jpg      → Выбран, переименован  →  slide2.jpg

Результат: 2 слайда (photo и image отклонены)


📋 ПОШАГОВАЯ ИНСТРУКЦИЯ:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Шаг 1: Подготовьте папку
   └─ slide1.jpg или Slide1.jpeg или SLIDE1.JPG (любое из этих)

Шаг 2: Откройте админ-панель
   └─ Перейдите на вкладку "Загрузка слайдов"

Шаг 3: Нажмите "📁 Нажмите для выбора папки"
   └─ Выберите свою папку

Шаг 4: Введите название презентации
   └─ Например: "Моя презентация"

Шаг 5: Нажмите "✓ Загрузить 3 слайдов"
   └─ Система автоматически переименует и загрузит

Шаг 6: Готово!
   └─ Вы увидите сообщение "✅ Презентация загружена! Всего слайдов: 3"


🔍 КАК ПРОВЕРИТЬ, ЧТО РАБОТАЕТ:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. Откройте браузер, нажмите F12 (Developer Tools)
2. Перейдите на вкладку "Console"
3. Выберите папку и загрузите
4. Посмотрите логи:

   Начинаем загрузку: 3 слайдов...
   Добавляем файлы (с переименованием):
     1. Slide1.jpeg → slide1.jpg         ← видите переименование
     2. slide2.jpg → slide2.jpg          ← видите переименование
     3. SLIDE3.JPG → slide3.jpg          ← видите переименование
   Отправляем запрос на сервер...
   Ответ сервера: {status: "success", slides_count: 3, ...}
   ✅ Презентация загружена! Всего слайдов: 3


⚠️ ВОЗМОЖНЫЕ ПРОБЛЕМЫ:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

❌ "В выбранной папке не найдены JPG слайды"
   → Причина: нет файлов начинающихся с "slide"
   → Решение: переименуйте файлы так, чтобы они начинались с "slide"

❌ "Слайды должны быть названы по порядку"
   → Причина: пропущены номера (например: 1, 3, но нет 2)
   → Решение: убедитесь что у всех файлов есть номера по порядку

❌ Кнопка "Загрузить" не работает
   → Причина: не выбрана папка или не введено название
   → Решение: выберите папку И введите название презентации


💡 БЫСТРЫЕ СОВЕТЫ:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✓ Совет 1: Используйте любой регистр
   "slide1.jpg", "Slide1.jpg", "SLIDE1.JPG" - все работают

✓ Совет 2: Используйте разные разделители
   "slide_1.jpg", "slide-1.jpg", "slide 1.jpg" - все работают

✓ Совет 3: Используйте оба расширения
   ".jpg" и ".jpeg" - оба поддерживаются

✓ Совет 4: Система автоматически сортирует
   Порядок выбора папки не важен, система отсортирует по номерам

✓ Совет 5: Посмотрите консоль браузера (F12)
   Там видны все логи переименования - помогает отладить проблемы


📞 НУЖНА ПОМОЩЬ?
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. Проверьте консоль браузера (F12 → Console)
   └─ Там есть подробные логи переименования

2. Прочитайте USER_GUIDE_RENAME.md
   └─ Там полная инструкция для пользователей

3. Проверьте, что файлы действительно .jpg или .jpeg
   └─ Система не поддерживает другие форматы


════════════════════════════════════════════════════════════════════════

✨ Это всё! Система готова к использованию. Просто загружайте файлы
   и система сама сделает всё остальное. 🎉

════════════════════════════════════════════════════════════════════════
    """
    
    print(guide)


if __name__ == '__main__':
    show_quick_guide()
